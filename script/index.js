"use strict";const availLang=["eng","es"],languageUrl=[window.location.href+"lang/eng.json",window.location.href+"lang/spa.json"],alertsSpa={copyerrorspa:"",copyerroreng:"",copysuccessspa:"",copysuccesseng:""},alerts={copyerror:{0:"Task failed",1:"Ha fallado la tarea"},copysuccess:{0:"Copied to clipboard",1:"Copiado al portapapeles"},shareerror:{0:"Failed to share",1:"Error al compartir"},sharesuccess:{0:"",1:""}};alertify.set("notifier","position","top-center");const documentButtons={openMenu:document.querySelector("#openMenu"),menuDisplay:document.querySelector("#menu-priorization"),closeMenu:document.querySelector("#menu-close-btn"),shareBtn:document.querySelector("#share-text-element"),darkThemeSwitch:document.querySelector("#dark-theme-switch"),bigFontSwitch:document.querySelector("#big-font-switch"),highContrastSwitch:document.querySelector("#high-contrast-switch"),langEnglish:document.querySelector("#lang-eng-button"),langSpanish:document.querySelector("#lang-spa-button")};function openMenu(){documentButtons.menuDisplay.style.display="grid"}function closeMenu(){documentButtons.menuDisplay.style.display="none"}function setLang(t){localStorage.lang=t;let e=document.querySelector("html");t==availLang[0]&&e.setAttribute("lang","en"),t==availLang[1]&&e.setAttribute("lang","es")}function setLangAuto(){navigator.languages[0].includes(availLang[1])?(setLang(availLang[1]),alertify.message("Puedes cambiarlo en configuraciones"),alertify.message("Idioma configurado automaticamente")):(setLang(availLang[0]),alertify.message("You can change it on Settings"),alertify.message("Language set automatically"))}function settingActualLang(){localStorage.lang==availLang[0]&&documentButtons.langEnglish.classList.add("lang-option-active"),localStorage.lang==availLang[1]&&documentButtons.langSpanish.classList.add("lang-option-active")}function innerText(){let t="";localStorage.lang==availLang[0]&&(t=languageUrl[0]),localStorage.lang==availLang[1]&&(t=languageUrl[1]),fetch(t).then((t=>t.text())).then((t=>JSON.parse(t))).then((t=>{Array.from(document.querySelectorAll("[data-text]")).forEach((e=>{e.innerHTML=t[e.dataset.text]}))}))}function shareEvent(){let t=document.head.querySelector("title");if(navigator.userAgentData.mobile)window.navigator.share({url:window.location.href,text:t.innerText,title:t.innerText}).catch((t=>{localStorage.lang==availLang[0]&&alertify.error(alerts.shareerror[0]),localStorage.lang==availLang[1]&&alertify.error(alerts.shareerror[1])}));else{let e=`${t.innerText} *** ${window.location.href}`;window.navigator.clipboard.writeText(e).then((()=>{localStorage.lang==availLang[0]&&alertify.success(alerts.copysuccess[0]),localStorage.lang==availLang[1]&&alertify.success(alerts.copysuccess[1])})).catch((t=>{localStorage.lang==availLang[0]&&alertify.error(alerts.copyerror[0]),localStorage.lang==availLang[1]&&alertify.error(alerts.copyerror[1])}))}}function switchBigFont(){"false"==localStorage.bigfont?(localStorage.bigfont="true",applyBigFont()):"true"==localStorage.bigfont&&(localStorage.bigfont="false",removeBigFont())}function applyBigFont(){let t;t=Array.from(document.querySelectorAll("*")),t.forEach((t=>{t.dataset.initialfont=getComputedStyle(t).fontSize})),t.forEach((t=>{t.style.fontSize=`calc(${t.dataset.initialfont} + 5px)`})),documentButtons.bigFontSwitch.classList.add("switch-active")}function removeBigFont(){let t;t=Array.from(document.querySelectorAll("*")),t.forEach((t=>{t.style.fontSize=t.dataset.initialfont,t.removeAttribute("data-initialfont")})),documentButtons.bigFontSwitch.classList.remove("switch-active")}function contrastSwitch(){"false"==localStorage.contrast?(localStorage.contrast="true",applyContrast()):"true"==localStorage.contrast&&(localStorage.contrast="false",removeContrast(),location.reload())}function applyContrast(){let t;t=Array.from(document.querySelectorAll("td,p,[data-text]")),t.forEach((t=>{t.style.backgroundColor="black",t.style.color="yellow"})),documentButtons.highContrastSwitch.classList.add("switch-active")}function removeContrast(){let t;t=Array.from(document.querySelectorAll("[data-text")),t.forEach((t=>{t.style.backgroundColor="auto",t.style.color="auto"}))}documentButtons.openMenu.addEventListener("click",openMenu,!1),documentButtons.closeMenu.addEventListener("click",closeMenu,!1),documentButtons.shareBtn.addEventListener("click",shareEvent,!1),documentButtons.bigFontSwitch.addEventListener("click",switchBigFont,!1),documentButtons.highContrastSwitch.addEventListener("click",contrastSwitch,!1),window.addEventListener("keyup",(t=>{"Escape"==t.key&&closeMenu()}),!1),documentButtons.langEnglish.addEventListener("click",(()=>{localStorage.lang!=availLang[0]&&(setLang(availLang[0]),location.reload())}),!1),documentButtons.langSpanish.addEventListener("click",(()=>{localStorage.lang!=availLang[1]&&(setLang(availLang[1]),location.reload())}),!1),localStorage.lang?(innerText(),settingActualLang()):(setLangAuto(),innerText(),settingActualLang()),"true"!=localStorage.bigfont&&"false"!=localStorage.bigfont&&(localStorage.bigfont="false"),"true"==localStorage.bigfont&&applyBigFont(),"false"==localStorage.bigfont&&removeBigFont(),"true"!=localStorage.contrast&&"false"!=localStorage.contrast&&(localStorage.contrast="false"),"true"==localStorage.contrast&&applyContrast(),"false"==localStorage.contrast&&removeContrast();